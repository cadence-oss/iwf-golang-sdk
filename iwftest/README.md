## Unit tests APIs for iWF 

The APIs are generated by the below commands:
```shell
  mockgen -source=iwf/persistence.go -package=iwftest -destination=iwftest/persistence.go
  mockgen -source=iwf/communication.go -package=iwftest -destination=iwftest/communication.go
  mockgen -source=iwf/workflow_context.go -package=iwftest -destination=iwftest/workflow_context.go
```

## Usage

See the [samples](https://github.com/indeedeng/iwf-golang-samples) for more details:

```go
func TestXyzState_Start(t *testing.T) {
	ctrl := gomock.NewController(t)

	xyzState := ...
	ctx := iwftest.NewMockWorkflowContext(ctrl)
	pers := iwftest.NewMockPersistence(ctrl)
	comm := iwftest.NewMockCommunication(ctrl)
	input := iwftest.NewTestObject(testCustomer)

	pers.EXPECT().SetDataObject(keyCustomer, testCustomer)
	cmdReq, err := xyzState.Start(ctx, input, pers, comm)
	assert.Nil(t, err)
	assert.Equal(t, iwf.EmptyCommandRequest(), cmdReq)
}
```

